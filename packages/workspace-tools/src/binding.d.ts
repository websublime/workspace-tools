/* auto-generated by NAPI-RS */
/* eslint-disable */
/**
 * Represents a changed file in a Git repository.
 * Contains information about the file path and its status.
 */
export declare class GitChangedFile {
  /** The path to the changed file */
  path: string
  /** The status of the file (Added, Deleted, or Modified) */
  status: GitFileStatus
}

/**
 * Represents a commit in a Git repository.
 * Contains detailed information about the commit, including
 * author details, date, and commit message.
 */
export declare class GitCommit {
  /** The commit hash (SHA) */
  hash: string
  /** The name of the commit author */
  authorName: string
  /** The email of the commit author */
  authorEmail: string
  /** The date of the commit in RFC2822 format */
  authorDate: string
  /** The commit message */
  message: string
}

/**
 * Represents a Git repository with methods for common Git operations.
 * This class wraps the underlying Rust Git implementation to provide
 * a JavaScript-friendly interface.
 */
export declare class GitRepository {
  /**
   * Opens an existing Git repository at the specified path.
   *
   * @param root_path - The path to the existing repository
   * @returns A new GitRepository instance
   * @throws If the repository cannot be opened
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-project');
   * console.log(`Opened repository at: ${repo.path}`);
   * ```
   */
  static open(rootPath: string): GitRepository
  /**
   * Creates a new Git repository at the specified path.
   * This initializes a new Git repository with an initial commit on the 'main' branch.
   *
   * @param root_path - The path where the repository should be created
   * @returns A new GitRepository instance
   * @throws If the repository cannot be created
   *
   * @example
   * ```js
   * const repo = GitRepository.create('./new-project');
   * console.log(`Created repository at: ${repo.path}`);
   * ```
   */
  static create(rootPath: string): GitRepository
  /**
   * Clones a Git repository from a URL to a local path.
   *
   * @param url - The URL of the repository to clone
   * @param root_path - The local path where the repository should be cloned
   * @returns A new GitRepository instance
   * @throws If the repository cannot be cloned
   *
   * @example
   * ```js
   * const repo = GitRepository.clone('https://github.com/example/repo.git', './cloned-repo');
   * console.log(`Cloned repository to: ${repo.path}`);
   * ```
   */
  static clone(url: string, rootPath: string): GitRepository
  /**
   * Gets the local path of the repository.
   *
   * @returns The path to the repository
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * console.log(`Repository path: ${repo.path}`);
   * ```
   */
  get path(): string
  /**
   * Configures the repository with user information.
   *
   * @param username - The Git user name
   * @param email - The Git user email
   * @returns The GitRepository instance for method chaining
   * @throws If the configuration cannot be set
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * repo.set_config('Jane Doe', 'jane@example.com');
   * ```
   */
  setConfig(username: string, email: string): GitRepository
  /**
   * Creates a new branch based on the current HEAD.
   *
   * @param name - The name for the new branch
   * @returns The GitRepository instance for method chaining
   * @throws If the branch cannot be created
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * repo.create_branch('feature/new-feature');
   * ```
   */
  createBranch(name: string): GitRepository
  /**
   * Lists all local branches in the repository.
   *
   * @returns A list of branch names
   * @throws If branches cannot be listed
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * const branches = repo.branches;
   * for (const branch of branches) {
   *   console.log(`Branch: ${branch}`);
   * }
   * ```
   */
  get branches(): Array<string>
  /**
   * Lists all configuration entries for the repository.
   *
   * @returns A map of config keys to values
   * @throws If config cannot be retrieved
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * const config = repo.config;
   * for (const [key, value] of Object.entries(config)) {
   *   console.log(`${key} = ${value}`);
   * }
   * ```
   */
  get config(): Record<string, string>
  /**
   * Checks out a local branch.
   *
   * @param branch_name - The name of the branch to checkout
   * @returns The GitRepository instance for method chaining
   * @throws If checkout fails
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * repo.checkout('feature-branch');
   * ```
   */
  checkout(branchName: string): GitRepository
  /**
   * Gets the name of the currently checked out branch.
   *
   * @returns The current branch name
   * @throws If the current branch cannot be determined
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * console.log(`Current branch: ${repo.current_branch}`);
   * ```
   */
  get currentBranch(): string
  /**
   * Creates a new tag at the current HEAD.
   *
   * @param name - The name for the new tag
   * @param message - Optional message for the tag
   * @returns The GitRepository instance for method chaining
   * @throws If the tag cannot be created
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * repo.create_tag('v1.0.0', 'Version 1.0.0 release');
   * ```
   */
  createTag(name: string, message?: string): GitRepository
  /**
   * Adds a file to the Git index.
   *
   * @param file_path - The path to the file to add
   * @returns The GitRepository instance for method chaining
   * @throws If the file cannot be added
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * repo.add('src/main.js');
   * ```
   */
  add(filePath: string): GitRepository
  /**
   * Adds all changed files to the Git index.
   *
   * @returns The GitRepository instance for method chaining
   * @throws If files cannot be added
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * repo.add_all();
   * ```
   */
  addAll(): GitRepository
  /**
   * Gets the name of the last tag in the repository.
   *
   * @returns The last tag name
   * @throws If no tags are found or an error occurs
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * console.log(`Last tag: ${repo.last_tag}`);
   * ```
   */
  get lastTag(): string
  /**
   * Gets the SHA of the current HEAD commit.
   *
   * @returns The current commit SHA
   * @throws If the SHA cannot be retrieved
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * console.log(`Current commit: ${repo.current_sha}`);
   * ```
   */
  get currentSha(): string
  /**
   * Gets the SHA of the parent of the current HEAD commit.
   *
   * @returns The previous commit SHA
   * @throws If the SHA cannot be retrieved
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * console.log(`Previous commit: ${repo.previous_sha}`);
   * ```
   */
  get previousSha(): string
  /**
   * Creates a new commit with the current index.
   *
   * @param message - The commit message
   * @returns The new commit's SHA
   * @throws If the commit cannot be created
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * repo.add('src/main.js');
   * const commitId = repo.commit('fix: update main.js');
   * console.log(`Created commit: ${commitId}`);
   * ```
   */
  commit(message: string): string
  /**
   * Adds all changes and creates a new commit.
   * This method performs both add_all() and commit() in one step.
   *
   * @param message - The commit message
   * @returns The new commit's SHA
   * @throws If the commit cannot be created
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * const commitId = repo.commit_changes('feat: add new feature');
   * console.log(`Created commit: ${commitId}`);
   * ```
   */
  commitChanges(message: string): string
  /**
   * Gets the status of the repository in porcelain format.
   * Returns a list of changed file paths.
   *
   * @returns List of changed file paths
   * @throws If status cannot be retrieved
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * const status = repo.status;
   * for (const file of status) {
   *   console.log(`Changed file: ${file}`);
   * }
   * ```
   */
  get status(): Array<string>
  /**
   * Finds the branch that contains a specific commit.
   *
   * @param commit_sha - The commit SHA to find
   * @returns The branch name if found, undefined if not found
   * @throws If the search fails
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * const commitSha = repo.current_sha;
   * const branch = repo.get_branch_from_commit(commitSha);
   * if (branch) {
   *   console.log(`Commit ${commitSha} is in branch: ${branch}`);
   * } else {
   *   console.log(`Commit ${commitSha} is not in any branch`);
   * }
   * ```
   */
  getBranchFromCommit(commitSha: string): string | undefined | null
  /**
   * Finds all branches that contain a specific commit.
   *
   * @param commit_sha - The commit SHA to find
   * @returns List of branch names containing the commit
   * @throws If the search fails
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * const commitSha = repo.current_sha;
   * const branches = repo.get_branches_containing_commit(commitSha);
   * for (const branch of branches) {
   *   console.log(`Branch contains commit: ${branch}`);
   * }
   * ```
   */
  getBranchesContainingCommit(commitSha: string): Array<string>
  /**
   * Pushes the current branch to a remote repository.
   *
   * @param remote_name - The name of the remote (defaults to "origin")
   * @param follow_tags - Whether to also push tags (defaults to false)
   * @returns Success indicator
   * @throws If the push fails
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * // Push current branch with tags
   * repo.push("origin", true);
   * ```
   */
  push(remote_name?: string, follow_tags?: boolean): boolean
  /**
   * Pushes the current branch to a remote repository with custom SSH key paths.
   *
   * @param remote_name - The name of the remote (defaults to "origin")
   * @param follow_tags - Whether to also push tags (defaults to false)
   * @param ssh_key_paths - Paths to SSH keys to try for authentication
   * @returns Success indicator
   * @throws If the push fails
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * // Push with custom SSH keys
   * repo.push_with_ssh_config(
   *   "origin",
   *   true,
   *   ["/home/user/.ssh/id_ed25519", "/home/user/.ssh/id_rsa"]
   * );
   * ```
   */
  pushWithSshConfig(remote_name?: string, follow_tags?: boolean, ssh_key_paths?: [string]): boolean
  /**
   * Fetches changes from a remote repository.
   *
   * @param remote_name - The name of the remote (defaults to "origin")
   * @param refspecs - Optional reference specs to fetch
   * @param prune - Whether to prune deleted references (defaults to false)
   * @returns Success indicator
   * @throws If the fetch fails
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * // Fetch with default refspecs and no pruning
   * repo.fetch("origin");
   *
   * // Fetch a specific branch and prune
   * repo.fetch(
   *   "origin",
   *   ["refs/heads/main:refs/remotes/origin/main"],
   *   true
   * );
   * ```
   */
  fetch(remote_name?: string, refspecs?: [string], prune?: boolean): boolean
  /**
   * Pulls changes from a remote repository.
   * This fetches from the remote and merges the changes into the current branch.
   *
   * @param remote_name - The name of the remote (defaults to "origin")
   * @param branch_name - Optional branch name to pull from (defaults to tracking branch)
   * @returns Success indicator
   * @throws If the pull fails or if there are merge conflicts
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * try {
   *   // Pull from the tracking branch
   *   repo.pull("origin");
   *
   *   // Pull from a specific branch
   *   repo.pull("origin", "feature-branch");
   * } catch (error) {
   *   console.error(`Pull failed: ${error.message}`);
   * }
   * ```
   */
  pull(remote_name?: string, branch_name?: string): boolean
  /**
   * Finds the common ancestor (merge base) between HEAD and another reference.
   *
   * @param git_ref - The reference to compare with HEAD (branch name, tag, or commit SHA)
   * @returns The SHA of the common ancestor commit
   * @throws If the common ancestor cannot be found
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * const mergeBase = repo.get_diverged_commits("feature-branch");
   * console.log(`Common ancestor commit: ${mergeBase}`);
   * ```
   */
  getDivergedCommits(gitRef: string): string
  /**
   * Gets all files changed since a specific reference with their status.
   *
   * @param git_ref - The reference to compare with HEAD (branch name, tag, or commit SHA)
   * @returns List of changed files with status
   * @throws If changed files cannot be determined
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * const changedFiles = repo.get_all_files_changed_since_sha_with_status("v1.0.0");
   * for (const file of changedFiles) {
   *   console.log(`File: ${file.path} - ${file.status}`);
   * }
   * ```
   */
  getAllFilesChangedSinceShaWithStatus(gitRef: string): Array<GitChangedFile>
  /**
   * Gets all files changed since a specific reference.
   *
   * @param git_ref - The reference to compare with HEAD (branch name, tag, or commit SHA)
   * @returns List of changed file paths
   * @throws If changed files cannot be determined
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * const changedFiles = repo.get_all_files_changed_since_sha("v1.0.0");
   * for (const file of changedFiles) {
   *   console.log(`Changed file: ${file}`);
   * }
   * ```
   */
  getAllFilesChangedSinceSha(gitRef: string): Array<string>
  /**
   * Gets all files changed since a specific branch within specified package paths.
   *
   * @param packages_paths - List of package paths to filter by
   * @param branch_name - The branch to compare against
   * @returns List of changed file paths within the packages
   * @throws If changed files cannot be determined
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   * const packages = ['packages/pkg1', 'packages/pkg2'];
   * const changedFiles = repo.get_all_files_changed_since_branch(packages, 'main');
   * for (const file of changedFiles) {
   *   console.log(`Changed file: ${file}`);
   * }
   * ```
   */
  getAllFilesChangedSinceBranch(packagesPaths: Array<string>, branchName: string): Array<string>
  /**
   * Gets commits made since a specific reference or from the beginning.
   *
   * @param since - Optional reference to start from (branch, tag, or commit SHA)
   * @param relative - Optional path to filter commits by (only commits touching this path)
   * @returns List of commits
   * @throws If commits cannot be retrieved
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   *
   * // Get all commits since v1.0.0
   * const commits = repo.get_commits_since("v1.0.0");
   *
   * // Get all commits that touched a specific file
   * const fileCommits = repo.get_commits_since("v1.0.0", "src/main.js");
   *
   * for (const commit of commits) {
   *   console.log(`${commit.hash}: ${commit.message} (${commit.author_name})`);
   * }
   * ```
   */
  getCommitsSince(since?: string, relative?: string): Array<GitCommit>
  /**
   * Gets tags from either local repository or remote.
   *
   * @param local - If true, gets local tags; if false or undefined, gets remote tags
   * @returns List of tags
   * @throws If tags cannot be retrieved
   *
   * @example
   * ```js
   * const repo = GitRepository.open('./my-repo');
   *
   * // Get local tags
   * const localTags = repo.get_remote_or_local_tags(true);
   *
   * // Get remote tags (default)
   * const remoteTags = repo.get_remote_or_local_tags();
   *
   * for (const tag of localTags) {
   *   console.log(`Tag: ${tag.tag} (${tag.hash})`);
   * }
   * ```
   */
  getRemoteOrLocalTags(local?: boolean): Array<GitTag>
}

/**
 * Represents a tag in a Git repository.
 * Contains the tag name and the commit hash it points to.
 */
export declare class GitTag {
  /** The hash of the commit that the tag points to */
  hash: string
  /** The name of the tag */
  tag: string
}

export declare function bumpMajor(version: string): string | null

export declare function bumpMinor(version: string): string | null

export declare function bumpPatch(version: string): string | null

export declare function bumpSnapshot(version: string, suffix: string): string | null

/**
 * Detects the package manager used in a project directory.
 *
 * This function analyzes the given directory to determine which package manager
 * is being used in the project. It looks for specific files and patterns that
 * indicate the presence of npm, yarn, pnpm, or other package managers.
 *
 * @param {string} [root_path] - Optional path to the project directory to analyze.
 *                              If not provided, the current working directory is used.
 * @returns {string} The detected package manager name (e.g., "npm", "yarn", "pnpm").
 * @throws {Error} If no package manager could be detected in the specified directory.
 *
 * @example
 * // Detect package manager in the current directory
 * const packageManager = detectPackageManager();
 * console.log(packageManager); // Outputs: "npm", "yarn", etc.
 *
 * @example
 * // Detect package manager in a specific directory
 * const packageManager = detectPackageManager("/path/to/project");
 * console.log(packageManager);
 */
export declare function detectPackageManager(root_path?: string): string

/**
 * Executes a shell command and returns its output as a string.
 *
 * This function provides a bridge between JavaScript and Rust for executing shell commands.
 * It runs the specified command in the given working directory with the provided arguments,
 * capturing and returning the standard output.
 *
 * @param {string} cmd - The command to execute (e.g., "git", "npm", "ls")
 * @param {string} path - The working directory where the command will be executed
 * @param {string[]} args - An array of arguments to pass to the command
 * @returns {string} Output the command's standard output as a string
 * @throws {Error} If the command fails to run, execute, or returns a non-zero exit code.
 *                 The error message will contain details about the failure, including
 *                 stdout and stderr content for non-zero exit codes.
 *
 * @example
 * // Execute 'git status' in the current project directory
 * const output = executeCommand('git', '/path/to/project', ['status']);
 * console.log(output);
 */
export declare function executeCommand(cmd: string, path: string, args: Array<string>): string

/**
 * Determines the root directory of the current project.
 *
 * This function attempts to locate a project's root directory by:
 * 1. Using the provided path if specified
 * 2. Starting from the current working directory if no path is provided
 * 3. Walking up the directory tree searching for Git repository markers
 * 4. Falling back to the current directory if no root markers are found
 *
 * @param {string} [initial_path] - Optional custom starting path to use for detecting project root
 * @returns {string} The absolute path to the detected project root directory
 * @throws {Error} If the project root path cannot be determined
 */
export declare function getProjectRootPath(initial_path?: string): string

export declare function getVersion(): string

/**
 * Represents the status of a file in a Git repository.
 * - Added: File has been added to the repository
 * - Deleted: File has been deleted from the repository
 * - Modified: File has been modified
 */
export declare enum GitFileStatus {
  Added = 0,
  Deleted = 1,
  Modified = 2
}
